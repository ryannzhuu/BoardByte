<!DOCTYPE html>
<html>
<head>
    <title>BoardByte</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 30px;
            margin: 0;
            background: #111;
            color: white;
        }
        body.light {
            background: white;
            color: black;
        }
        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .logo {
            font-size: 22px;
            font-weight: bold;
        }
        .top-right a {
            margin-left: 10px;
            color: inherit;
            text-decoration: none;
            font-size: 14px;
            padding: 6px 10px;
            border-radius: 4px;
            border: 1px solid #444;
        }
        body.light .top-right a {
            border-color: #aaa;
        }
        label {
            display: block;
            margin: 6px 0;
        }
        input, button {
            font-size: 16px;
        }
        .toggle-dark {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 10px 16px;
            border-radius: 6px;
            border: 1px solid #444;
            background: #222;
            color: white;
            cursor: pointer;
            font-size: 14px;
        }
        body.light .toggle-dark {
            background: #ddd;
            color: black;
            border-color: #aaa;
        }
    </style>
</head>
<body>

<div class="top-bar">
    <div class="logo">BoardByte</div>
    <div class="top-right">
        {% if user %}
            <span style="font-size: 14px; opacity: 0.85;">{{ user["email"] }}</span>
            <a href="{{ url_for('notes') }}">My Notes</a>
            <a href="{{ url_for('logout') }}">Logout</a>
        {% else %}
            <a href="{{ url_for('login') }}">Log In</a>
            <a href="{{ url_for('signup') }}">Sign Up</a>
        {% endif %}
    </div>
</div>

<h2>Upload your work and generate notes!</h2>

<form action="/results" method="POST" enctype="multipart/form-data">
    <h3>Select Note Style:</h3>

    <label><input type="radio" name="mode" value="bullet" checked> Bullet Notes</label>
    <label><input type="radio" name="mode" value="cornell"> Cornell Notes</label>
    <label><input type="radio" name="mode" value="summary"> Exam Review Summary</label>
    <label><input type="radio" name="mode" value="definitions"> Definitions Only</label>
    <label><input type="radio" name="mode" value="steps"> Step-by-Step Breakdown</label>

    <br><br>
    <h3>Upload Images (you may select multiple)</h3>
    <input type="file" name="images" multiple required><br><br>

    <button type="submit">Generate Notes</button>
</form>

<button class="toggle-dark" id="dark-toggle">Light Mode</button>

<script>
    const toggle = document.getElementById("dark-toggle");

    if (!localStorage.getItem("darkMode")) {
        localStorage.setItem("darkMode", "true");
    }
    if (localStorage.getItem("darkMode") === "false") {
        document.body.classList.add("light");
        toggle.textContent = "Dark Mode";
    }

    toggle.addEventListener("click", () => {
        const isLight = document.body.classList.contains("light");
        if (isLight) {
            document.body.classList.remove("light");
            localStorage.setItem("darkMode", "true");
            toggle.textContent = "Light Mode";
        } else {
            document.body.classList.add("light");
            localStorage.setItem("darkMode", "false");
            toggle.textContent = "Dark Mode";
        }
    });
</script>

</body>
</html>
